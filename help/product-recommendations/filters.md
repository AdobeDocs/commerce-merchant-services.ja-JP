---
title: 製品をフィルター
description: 製品をレコメンデーションとして使用するかどうかを含める、または除外する条件を定義します。
exl-id: baab28ff-b529-4cbc-adb7-4fa225e87d4a
source-git-commit: 78f226465b9d84707612596a5aa4622aa7869ee1
workflow-type: tm+mt
source-wordcount: '698'
ht-degree: 0%

---

# 製品をフィルター

Adobe Commerceは、レコメンデーション単位に設定できないデフォルトフィルターを自動的に適用します。 1 つのページに複数のレコメンデーション単位がデプロイされている場合、Adobe Commerceは単位で繰り返される製品を除外します。 繰り返し製品への最初の参照のみを使用して、他の製品がレコメンデーションされる場所を空けます。 また、Adobe Commerceでは、以前に購入した製品と買い物かごに含まれている製品もフィルタリングして除外します。

次の場合： [作成](create.md) レコメンデーションユニットでは、レコメンデーションに表示できる製品を制御するフィルターを定義できます。 これらのフィルターは、定義した一連の包含条件または除外条件に基づきます。 すべての包含条件に一致する製品のみがレコメンデーションに表示されます。 どの除外条件にも一致する製品は、お勧めしません。

各フィルターページの切り替えを選択することで、複数のフィルターを設定し、必要なフィルターのみを有効にすることができます。 これにより、後で使用するためのフィルターのドラフトを作成できます。 有効なフィルターの数が各タブに表示されます。

## 条件

条件は、静的または動的に設定できます。

- 静的条件は、既存の製品属性を使用して、ユニットに表示できる製品を決定します。 例えば、価格が$25 を超える在庫品のみを単位に表示するように指定できます。 静的条件は、すべてのページタイプで使用できます。

- 動的条件は、現在表示されているカテゴリや製品など、買い物客の現在のコンテキストのキーになります。 例えば、製品の詳細ページにデプロイする製品レコメンデーションを作成する場合、現在表示されている製品の相対的な価格範囲に含まれる製品のみをレコメンデーションする条件を作成できます。 動的条件は、ホームページを除くすべてのページタイプと、ページビルダーで配置されたレコメンデーションを含むページで使用できます。

### 論理演算子

論理演算子 `AND` および `OR` は、複数の条件を結合するために使用されます。 包含フィルターと除外フィルターの両方を使用している場合、包含が最初に評価されてレコメンデーション可能なすべての製品が決定され、その後、任意の除外フィルターに一致する製品がリストから削除されます。

- `AND` - 2 つのインクルージョンフィルター条件を結合します
- `OR` - 2 つの除外フィルター条件を結合します

>[!NOTE]
>
> インクルージョンフィルターと除外フィルターは、バージョン 3.2.2 以降のレガシーカテゴリの除外を置き換えます。 `magento/product-recommendations` モジュール。 詳しくは、 [リリースノート](release-notes.md) Adobe Commerceリリースの詳細

## フィルターのタイプ {#filtertypes}

![フィルター](assets/rec-conditions.png)

### カテゴリ

製品のカテゴリに基づくフィルターでは、直接カテゴリの割り当てとそのサブカテゴリを使用します。 例えば、カテゴリの除外条件を有効にする場合などです。 `Gear` に割り当てられた製品を除外 `Gear` そして、次のようなサブカテゴリがすべて `Gear/Bags` または `Gear/Fitness Equipment`. B2B マーチャントの場合、カテゴリフィルタは、 [顧客固有の製品カテゴリ](https://experienceleague.adobe.com/docs/commerce-admin/catalog/categories/category-permissions.html) 設定済みです。

Adobe Commerceでは、ページタイプにレコメンデーションをデプロイする際に、次のカテゴリフィルター設定を使用することをお勧めします。

| ページ | フィルター条件 |
|---|---|
| ホーム | 製品をフィルタリングしないでください。 |
| カテゴリ | 特定のカテゴリの製品をフィルタリングします。 |
| 製品の詳細 | 同じカテゴリの製品をフィルタリングします。 |
| 買い物かご | 買い物かご内の製品のカテゴリをフィルタリングします。 |
| 注文の確認 | 購入した製品のカテゴリをフィルターします。 |

### 製品

製品フィルターは、レコメンデーションに表示する対象となる特定の製品または対象外の製品を指定します。 レコメンデーションに表示できないので、無効にした製品や個別に表示しない製品は選択できません。

### タイプ

製品タイプに基づくフィルターは、特定のタイプのすべての製品を含めるか除外します。 サポートされるタイプは次のとおりです。 _シンプル_, _設定可能_, _仮想_, _ダウンロード可能_&#x200B;または _ギフトカード_. _バンドル_ および _グループ化_ 製品はまだサポートされていません。

### 表示

次のような表示に基づいて商品をフィルタリングします。 _カタログ_, _検索_、またはその両方。

### 価格

製品価格に基づくフィルターでは、最終価格を使用して比較が実行されます。 最終的な価格には、匿名の買い物客が利用できる割引や特別価格が含まれます。 B2B 商人の場合、表示される価格は [顧客固有のグループ価格](https://experienceleague.adobe.com/docs/commerce-admin/catalog/products/pricing/pricing-advanced.html) 設定済みです。

### 在庫ステータス

次の除外フィルターを使用して、在庫ステータスに基づいて製品を除外できます。

- 在庫切れ — （除外のみ）在庫切れの製品を除外します。
- 在庫が少ない — （除外のみ）在庫が少ない製品を除外します。 在庫ステータスは、 _X の左しきい値のみ_ 値 [在庫設定](https://experienceleague.adobe.com/docs/commerce-admin/config/catalog/inventory.html).
