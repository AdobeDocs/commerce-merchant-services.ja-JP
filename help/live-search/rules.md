---
title: "ルール"
description: '"[!DNL Live Search] ルールは、ロジックとアクションを組み合わせて、買い物体験を形成します。」'
exl-id: d06a3040-6987-4813-90ae-2f7b3ad0b232
source-git-commit: 7307702a62a6b2c3e6c6083a59f2ac3587b0985e
workflow-type: tm+mt
source-wordcount: '588'
ht-degree: 0%

---

# ルール

[!DNL Live Search] ルールは、ロジックとアクションを組み合わせて、ストア内で買い物客の検索エクスペリエンスを形成します。 ルールを使用して、ビジネス目標に合わせて検索結果をリアルタイムに調整し、製品のブースト、埋め込み、ピン留めまたは非表示を行うことができます。

各ルールには、次の 3 つの主要なコンポーネントがあります。

* 条件 — アクションをトリガーする条件。
* イベント — 条件が満たされたときに実行されるアクション。
* 詳細 — ルールの名前、およびオプションの時間枠と説明。

複数の条件とアクションを組み合わせたり、特定の期間に対してルールをアクティブにするようにスケジュールしたりできます。

## 要件

単純なルールには 1 つの条件と 1 つのイベントを含めることができますが、複雑なルールには最大 25 個のイベントをトリガーする 10 個の条件を含めることができます。
ルールには次のものが含まれます。

* 最大 10 個の条件
* 最大 25 個のイベント

クエリテキストには、次の内容を含めることができます。

* 英数字（文字と数字）
* 大文字または小文字。 大文字は無視されます。

## 論理演算子

論理演算子 `AND` および `OR` 2 つの条件を結合し、異なる結果を返す。 複数の条件を持つルールで使用されるすべての論理演算子は同じです。 両方を使用することはできません `AND` および `OR` 同じ規則で

### 一致演算子

一致演算子 `All` および `Any` ルール内の複数の条件を結合するために使用され、既存の演算子を変更するために使用できる論理演算子を決定します。

* `All`  — を使用します。 `AND` 論理演算子を使用して複数の条件を結合できます。 を使用するルール `All` 一致演算子は 1 つのみ指定できます `Search query is` 条件。
* `Any`  — を使用します。 `OR` 論理演算子を使用して複数の条件を結合できます。

複雑なルールを作成する際に、インデント付きで書き出すと、目的の結果を返すために必要な条件、関連するイベント、製品名、SKU を記述できます。 次に、ルールを作成し、結果をテストします。

## 複数のルールを持つ優先順位

1 つの検索語句に対して、一度に 1 つのルールのみが適用されます。
複数のルールが 1 つの検索フレーズに適用できると見つかった場合、これらのルールがすべて適用されます。 2 つのルールの間に衝突がある場合：`rule 1` sku1 を押し上げるが `rule 2` 同じ SKU を非表示にし、最近適用されたルール (`rule 2`) が優先します。

* ルールの順序は、「最終変更日」のタイムスタンプに従って決まります。 最も新しく変更されたルールが最初に適用され、その後の古いルールがタイムスタンプ順に適用されます。
* The `query is` 条件は他の条件よりも優先されます。 新しいルールに `query contains` 条件を満たしていますが、古いルールには `query is` 条件、 `query is` ルールが適用されます。

### ストアフロントの要求

次の項目を含むアクティブなルール `query is` 条件は検索フレーズに一致し、適用されます。 一致するルールが複数ある場合、 `query is` 条件を指定すると、最も新しく更新されたアクティブなルールが適用されます。
それ以外の場合は、最も新しく更新されたアクティブなルールが適用されます。

### リクエストのプレビュー

管理でおこなわれたリクエストの動作は、少し異なります。 管理でプレビューする際、期限切れやスケジュール済みのルールを含め、すべてのルールが適用されます。

* プレビュー中のルールに `query is` 条件を満たす場合は、適用されます。
* プレビュー中のルールに `query is` 条件、および後続のアクティブな、 `query is` 条件が見つかった場合、 `query is` ルールが適用されます。
* プレビュー中のルールに `query is` 条件と他の規則が `query is` 条件が見つかったら、プレビュー中のルールが適用されます。

## カテゴリルールとカテゴリ製品の割り当て

[!DNL Live Search] では、カテゴリでフィルタリングできます。
ただし、Adobe Commerceでは、 [カテゴリ製品の割り当て](https://experienceleague.adobe.com/docs/commerce-admin/catalog/categories/products-in-category/categories-product-assignments.html). このタイプのカテゴリは、実行時に作成され、カテゴリデータベースに存在しません。 したがって [!DNL Live Search] このカテゴリの種類を読み取ったり使用したりできません。
